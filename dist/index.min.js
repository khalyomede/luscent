!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).luscent={})}(this,(function(e){"use strict";var t=function(e,t){for(var n=0,a=Array.from(document.querySelectorAll("[data-luscent-if]"));n<a.length;n++){var o=a[n];if(o instanceof HTMLElement){var c=o.id,l=c.length>0,i=o.dataset.luscentIf;if(void 0!==i)if(i in t)if(t[i](e.state)){var s=o.dataset.luscentTemplate;if(void 0===s){l?console.warn('The element with id "'.concat(c,'" could not be shown/hidden because it has an empty data-luscent-template')):console.warn("An element could not be shown/hidden because it has an empty data-luscent-template");continue}var u=document.getElementById(s);if(null===u||!(u instanceof HTMLTemplateElement)){l?console.warn('The element with id "'.concat(c,'" could not be shown/hidden because no template exist with id empty data-luscent-template="').concat(s,'"')):console.warn('An element could not be shown/hidden because no template exist with id empty data-luscent-template="'.concat(s,'"'));continue}o.textContent="",o.appendChild(u.content.cloneNode(!0))}else o.textContent="";else l?console.warn('The element with id "'.concat(c,'" could not be shown/hidden because it uses data-luscent-if="').concat(i,'" but no conditions was found with this key')):console.warn('An element could not be shown/hidden because it uses data-luscent-if="'.concat(i,'" but no conditions was found with this key'));else l?console.warn('The element with id "'.concat(c,'" cannot be shown/hidden because data-luscent-if target an empty key.')):console.warn("An element cannot be shown/hidden because data-luscent-if target an empty key.")}}},n=function(e,n,a){console.log("DOM will be updated with"),console.log(e.state),document.querySelectorAll("[data-luscent-value]").forEach((function(o){var c=o.getAttribute("data-luscent-value"),l=null===c||0===c.trim().length,i=o.id.trim().length>0,s=o.id;if(l)i?console.warn('The element id "'.concat(s,'" seems to have a data-luscent-value with an empty value. Please fill it to let the UI update pursue correctly.')):console.warn("It seems you have a data-luscent-value with an empty value. Please fill it to let the UI update pursue correctly.");else if(n.hasOwnProperty(c)){console.log("Running getter ".concat(c));var u=n[c](e.state);console.log("value was",u),o instanceof HTMLInputElement?o.value=u:o.textContent=u,t(e,a)}else i?console.warn('The element id "'.concat(s,'" content with data-luscent-value="').concat(c,'" could not be rendered because a getter with the same name could not be found.')):console.warn('The UI rendering failed for an element content with data-luscent-value="'.concat(c,'" could not be rendered because a getter with the same name Could not be found.'))}))},a=function(e,t,a,o){document.querySelectorAll("[data-luscent-on-click]").forEach((function(c){var l=c.getAttribute("data-luscent-on-click");l&&a[l]&&c.addEventListener("click",(function(c){e.state=a[l](e.state,c),n(e,t,o)}))})),document.querySelectorAll("[data-luscent-on-submit]").forEach((function(c){var l=c.getAttribute("data-luscent-on-submit");l&&a[l]&&c.addEventListener("submit",(function(c){c.preventDefault(),e.state=a[l](e.state,c),n(e,t,o)}))}))},o=function(){return o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},c=function(e,t,a){for(var c=function(c){if(!(c instanceof HTMLElement))return"continue";var l=c.id,i=l.trim().length>0,s=c.dataset.luscentOnInputBind;return void 0===s?(i?console.warn('Please specify a key when using data-luscent-on-input-bind on the element with id "'.concat(l,'".')):console.warn("Please specify a key when using data-luscent-on-input-bind."),{value:void 0}):c instanceof HTMLInputElement?void c.addEventListener("input",(function(c){var l;if(c instanceof InputEvent){var i=c.target;e.state=o(o({},e.state),((l={})[s]=i.value,l)),n(e,t,a)}})):(i?console.warn('It seems you tried to bind a value (using data-luscent-on-input-bind="'.concat(s,'") on the element with id "').concat(l,"\" that is not an HTMLInputElement. This won't make the data reactive.")):console.warn('It seems you tried to bind a value (using data-luscent-on-input-bind="'.concat(s,"\") on an element that is not an HTMLInputElement. This won't make the data reactive.")),"continue")},l=0,i=Array.from(document.querySelectorAll("[data-luscent-on-input-bind]"));l<i.length;l++){var s=c(i[l]);if("object"==typeof s)return s.value}},l=function(e){var t=e.state||{},o=e.methods||{},l=e.getters||{},i=e.conditions,s={state:t};n(s,l,i),a(s,l,o,i),c(s,l,i),console.log("Luscent app started successfully")};e.start=l}));