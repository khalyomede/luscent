!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).luscent={})}(this,(function(e){"use strict";var t=function(e,t){for(var n=0,a=Array.from(document.querySelectorAll("[data-luscent-if]"));n<a.length;n++){var o=a[n];if(o instanceof HTMLElement){var l=o.id,c=l.length>0,s=o.dataset.luscentIf;if(void 0!==s)if(s in t)if(t[s](e.state)){var i=o.dataset.luscentTemplate;if(void 0===i){c?console.warn('The element with id "'.concat(l,'" could not be shown/hidden because it has an empty data-luscent-template')):console.warn("An element could not be shown/hidden because it has an empty data-luscent-template");continue}var u=document.getElementById(i);if(null===u||!(u instanceof HTMLTemplateElement)){c?console.warn('The element with id "'.concat(l,'" could not be shown/hidden because no template exist with id empty data-luscent-template="').concat(i,'"')):console.warn('An element could not be shown/hidden because no template exist with id empty data-luscent-template="'.concat(i,'"'));continue}o.textContent="",o.appendChild(u.content.cloneNode(!0))}else o.textContent="";else c?console.warn('The element with id "'.concat(l,'" could not be shown/hidden because it uses data-luscent-if="').concat(s,'" but no conditions was found with this key')):console.warn('An element could not be shown/hidden because it uses data-luscent-if="'.concat(s,'" but no conditions was found with this key'));else c?console.warn('The element with id "'.concat(l,'" cannot be shown/hidden because data-luscent-if target an empty key.')):console.warn("An element cannot be shown/hidden because data-luscent-if target an empty key.")}}},n=function(e,t){for(var n=0,a=Array.from(document.querySelectorAll("[data-luscent-for]"));n<a.length;n++){var o=a[n];if(o instanceof HTMLElement){var l=o.id,c=l.length>0,s=o.dataset.luscentFor;if(void 0!==s)if(s in t){var i=o.dataset.luscentTemplate;if(void 0!==i){var u=document.getElementById(i);if(null!==u&&u instanceof HTMLTemplateElement){o.textContent="";for(var d=0,r=t[s](e.state);d<r.length;d++){for(var f=r[d],h=u.content.cloneNode(!0),m=0,p=Array.from(h.querySelectorAll("[data-luscent-value]"));m<p.length;m++){var w=p[m];if(w instanceof HTMLElement){var v=w.getAttribute("data-luscent-value");if(v&&v in f){var b=f[v];w instanceof HTMLInputElement?w.value=b:w.textContent=b}}}o.appendChild(h)}}else c?console.warn('The element with id "'.concat(l,'" could not iterate because no template exists with id data-luscent-template="').concat(i,'".')):console.warn('An element could not iterate because no template exists with id data-luscent-template="'.concat(i,'".'))}else c?console.warn('The element with id "'.concat(l,'" could not iterate because it has an empty data-luscent-template.')):console.warn("An element could not iterate because it has an empty data-luscent-template.")}else c?console.warn('The element with id "'.concat(l,'" could not iterate because it uses data-luscent-for="').concat(s,'" but no list was found with this key.')):console.warn('An element could not iterate because it uses data-luscent-for="'.concat(s,'" but no list was found with this key.'));else c?console.warn('The element with id "'.concat(l,'" cannot iterate because data-luscent-for targets an empty key.')):console.warn("An element cannot iterate because data-luscent-for targets an empty key.")}}},a=function(e,t){document.querySelectorAll("[data-luscent-value]").forEach((function(n){if(!n.closest("template")&&!n.closest("[data-luscent-for]")){var a=n.getAttribute("data-luscent-value"),o=null===a||0===a.trim().length,l=n.id.trim().length>0,c=n.id;if(o)l?console.warn('The element id "'.concat(c,'" seems to have a data-luscent-value with an empty value. Please fill it to let the UI update pursue correctly.')):console.warn("It seems you have a data-luscent-value with an empty value. Please fill it to let the UI update pursue correctly.");else if(t.hasOwnProperty(a)){console.log("Running getter ".concat(a));var s=t[a](e.state);console.log("value was",s),n instanceof HTMLInputElement?n.value=s:n.textContent=s}else l?console.warn('The element id "'.concat(c,'" content with data-luscent-value="').concat(a,'" could not be rendered because a getter with the same name could not be found.')):console.warn('The UI rendering failed for an element content with data-luscent-value="'.concat(a,'" could not be rendered because a getter with the same name Could not be found.'))}}))},o=function(e,o,l,c){console.log("DOM will be updated with"),console.log(e.state),a(e,o),t(e,l),c&&n(e,c)},l=function(e,t,n,a,l){document.querySelectorAll("[data-luscent-on-click]").forEach((function(c){var s=c.getAttribute("data-luscent-on-click");s&&n[s]&&c.addEventListener("click",(function(c){e.state=n[s](e.state,c),o(e,t,a,l)}))})),document.querySelectorAll("[data-luscent-on-submit]").forEach((function(c){var s=c.getAttribute("data-luscent-on-submit");s&&n[s]&&c.addEventListener("submit",(function(c){c.preventDefault(),e.state=n[s](e.state,c),o(e,t,a,l)}))}))},c=function(){return c=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)},s=function(e,t,n,a){for(var l=function(l){if(!(l instanceof HTMLElement))return"continue";var s=l.id,i=s.trim().length>0,u=l.dataset.luscentOnInputBind;return void 0===u?(i?console.warn('Please specify a key when using data-luscent-on-input-bind on the element with id "'.concat(s,'".')):console.warn("Please specify a key when using data-luscent-on-input-bind."),{value:void 0}):l instanceof HTMLInputElement?void l.addEventListener("input",(function(l){var s;if(l instanceof InputEvent){var i=l.target;e.state=c(c({},e.state),((s={})[u]=i.value,s)),o(e,t,n,a)}})):(i?console.warn('It seems you tried to bind a value (using data-luscent-on-input-bind="'.concat(u,'") on the element with id "').concat(s,"\" that is not an HTMLInputElement. This won't make the data reactive.")):console.warn('It seems you tried to bind a value (using data-luscent-on-input-bind="'.concat(u,"\") on an element that is not an HTMLInputElement. This won't make the data reactive.")),"continue")},s=0,i=Array.from(document.querySelectorAll("[data-luscent-on-input-bind]"));s<i.length;s++){var u=l(i[s]);if("object"==typeof u)return u.value}},i=function(e){var t=e.state||{},n=e.methods||{},a=e.getters||{},c=e.conditions||{},i=e.lists||{},u={state:t};o(u,a,c,i),l(u,a,n,c,i),s(u,a,c,i),console.log("Luscent app started successfully")};e.start=i}));